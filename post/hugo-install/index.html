<!DOCTYPE HTML>

<html lang="zh-cn">

<head>
	<meta charset="utf-8">
	<title>利用Hugo搭建博客系统 - 苦X工程师</title>
	<meta name="author" content="map[name:kevenxia email:ponyxiapeng@gmail.com]">

	
	  
	<meta name="description" content="Hugo博客相关">
	

	
	<meta name="HandheldFriendly" content="True">
	<meta name="MobileOptimized" content="320">
	<meta name="viewport" content="width=device-width, initial-scale=1">
    
	<link rel="canonical" href="http://kevensya.github.io/post/hugo-install/">
	<link href="http://kevensya.github.io//favicon.png" rel="shortcut icon">
	<link href="http://kevensya.github.io//css/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
	<link href="http://kevensya.github.io//css/font-awesome.min.css" media="screen, projection" rel="stylesheet" type="text/css">
	
	<link href='http://fonts.googleapis.com/css?family=Nunito:400,300,700' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
	
  
	<script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-18988530-7']);
		_gaq.push(['_trackPageview']);

		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
	</script>


</head>


<body>
	<div class="container">
		<div class="left-col">
			<div class="intrude-less">
			<header id="header" class="inner"><div class="profilepic">
	
	
	<script src="http://kevensya.github.io//js/md5.js"></script>
	<script type="text/javascript">
		$(function(){
			$('.profilepic').append("<img src='/images/avatar.png' alt='Profile Picture' style='width: 160px;' />");
		});
	</script>
	
	
</div>

<nav id="main-nav">
<h1><a href="/">苦X工程师</a></h1>


<section class="aboutme">
  <p class="subtitle">
    Java,VC&#43;&#43;,C&#43;&#43;,ObjC,C#使用中
  </p>
</section>

<ul class="main">
    <li><a href="/">Blog</a></li>
    <li><a href="/info/aboutme.html">About</a></li>
    <li><a href="/post/">Archives</a></li>
</ul></nav>
<nav id="sub-nav">
	<div class="social">
		
			<a class="email" href='mailto:ponyxiapeng@gmail.com' title="Email">Email</a>
		
		
		
		
		
			<a class="github" href='https://github.com/kevensya' title="GitHub">GitHub</a>
		
		
		
		
		
		
		
		
		
		
    	
    	
	</div>
</nav>
</header>
			</div>
		</div>
		<div class="mid-col">
			
			<div class="mid-col-container">
				<div id="content" class="inner">
					<div itemscope itemtype="http://schema.org/Blog">
					<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <h1 class="title" itemprop="name">利用Hugo搭建博客系统</h1>
	<div class="entry-content" itemprop="articleBody">

<h4 id="选择的两种静态网页博客系统比较:a21e4d43a2a98a5640b183c3e7675c3a">选择的两种静态网页博客系统比较</h4>

<ul>
<li>Octopress</li>
</ul>

<blockquote>
<p>Octopress 是一款基于Jekyll 的静态站点生成系统,使用ruby编写的，使用这个博客系统需要对ruby语言有一定的掌握。因为自己也学习过ruby，而且现在有个朋友正在使用octopress 2.x作为他的博客系统，所以这次的首选是octopress，但是安装过程稍显复杂，目前octopress 3.x版本的安装相关说明基本上没有，加上很多人抱怨octopress的在post数量超过一定数量后，每次生成页面的速度很慢，综合考虑后放弃octopress。</p>
</blockquote>

<ul>
<li>Hugo</li>
</ul>

<blockquote>
<p>利用Go语言编写的静态站点生成系统，从速度上来说Hugo完胜，网上对octopress的速度很多人不满，150个post的情况下，octopress生成网页的速度大概需要40秒，而hugo不到一秒就完成页面的生成了，因此也有不少人从octopress换到Hugo，与其到时候更换，还不如从刚开始就选择Hugo，所以最终决定使用Hogo。目前来说只有一个post的情况下，速度方面有多少优势目前还不得知，但是目前来说，速度，发布方式各个方面还是比较满意。</p>
</blockquote>

<hr />

<h4 id="hugo的安装:a21e4d43a2a98a5640b183c3e7675c3a">Hugo的安装</h4>

<p>安装环境</p>

<pre><code>OS: OS X Yosemite 10.10.4
Ruby: ruby 2.2.2p95
Homebrew: 0.9.5
</code></pre>

<p>因为已经安装过Homebrew了，所以最简单的办法就是利用Homebrew安装</p>

<blockquote>
<p>如果未安装过Homebrew，可以按照<a href="http://brew.sh/">Homebrew官网</a>的指示进行安装(注意：安装Homebrew之前需要安装<a href="https://www.ruby-lang.org/">Ruby</a>)</p>
</blockquote>

<pre><code>brew install Hugo
</code></pre>

<p>如果没有安装过Homebrew，不想折腾安装Homebrew，可以直接从<a href="https://github.com/spf13/hugo/releases">https://github.com/spf13/hugo/releases</a>下载最新的binary版本。</p>

<p>安装后，执行下面的命令</p>

<pre><code>hugo version
</code></pre>

<p>如果命令能够正确执行并输出安装的hugo版本表示安装成功，接着就可以利用Hugo生成site。</p>

<h4 id="博客site的生成:a21e4d43a2a98a5640b183c3e7675c3a">博客site的生成</h4>

<p>生成site</p>

<pre><code>hugo new site &lt;path&gt;
</code></pre>

<p>此命令的目的在path生成site的scaffolding，生成的的文件结构如下</p>

<pre><code>|- archetypes
|- content
|- data
|- layouts
|- static
|- config.toml
</code></pre>

<p>进入path目录，接下来，安装主题(themes)</p>

<pre><code>git clone --recursive https://github.com/spf13/hugoThemes themes
</code></pre>

<p>这个将从github下载所有的Hugo主题，大小大概有230M左右，下载完成需要等待一段时间。
themes下载完后，修改config.toml的配置</p>

<pre><code>baseUrl= &quot;http://kevensya.github.io/&quot; -- 发布时的博客url
languageCode = &quot;zh-cn&quot; -- 语言（目前还没有发现有什么特殊的作用）
title = &quot;苦X工程师&quot; -- 博客标题
theme = &quot;greyshade&quot; -- 主题名
Paginate = 10 -- 分页大小

[author]
name = &quot;kevenxia&quot;
email = &quot;xxxx@mail.com&quot;

[params]
  githubName = &quot;kevensya&quot;
  description = &quot;Java,VC++,C++,ObjC,C#使用中&quot; -- 博客的描述
  disqusShortname = &quot;crazykeven&quot;
  github_user = &quot;kevensya&quot;
  excerpt_link = &quot;[阅读全文]&quot; -- 博客首页显示博客概要时代替Read More的文本
</code></pre>

<p>每个主题的配置方法都稍微有些不一样，需要研究主题的layout以及官方关于<a href="http://gohugo.io/templates/overview/">Template的说明</a>进行配置，我这里使用的是<a href="https://github.com/cxfksword/greyshade">greyshade主题</a>。</p>

<p>配置好后，可以生成一个post测试一下。</p>

<pre><code>hugo new post/welcome.md
</code></pre>

<p>进入content/目录，多了一个post目录，post目录下多了一个welcome.md文件。</p>

<p>启动本地预览服务器</p>

<pre><code>hugo server -w
</code></pre>

<p>这里加上了-w option，这样编写的博客或者layout有变化后能实时反映到web页面上，不用每次重新启动服务器（但是修改了config.toml文件就必须重新启动服务器后修改才能得到反映）。</p>

<p>在浏览器输入 <a href="http://localhost:1313">http://localhost:1313</a> 就可以看到博客的首页了,首页上显示了刚才生成的welcome的博客。</p>

<h4 id="发布到github:a21e4d43a2a98a5640b183c3e7675c3a">发布到Github</h4>

<p>每个github账号可以发布一个个人页面的站点（Github pages），我就利用这次这个功能发布hugo生成的静态页面。首先在github建立一个repository，这个repository的名字必须是下面两种格式。</p>

<pre><code>github账户名.github.com
github账户名.github.io
</code></pre>

<p><img src="/images/screenshot/Create a New Repository.png" alt="创建repository" /></p>

<p>创建完repository后，暂时回到本地进行操作</p>

<pre><code>hugo -t greyshade
</code></pre>

<p>利用主题greyshade生成静态html页面，所有的静态页面都在public/中。</p>

<p>进入public目录，创建本地git仓库</p>

<pre><code>git init
</code></pre>

<p>将.DS_Store文件添加到忽略列表中（.DS_Store是OSX的系统文件）</p>

<pre><code>echo &quot;.DS_Store&quot; &gt;&gt; .gitignore
</code></pre>

<p>执行下面的命令将生成的页面添加到git仓库</p>

<pre><code>git add -A
git commit -m &quot;Initial commit&quot;
</code></pre>

<p>将github仓库添加到本地仓库的远程服务器中</p>

<pre><code>git remote add origin https://github.com/kevensya/kevensya.github.io.git
</code></pre>

<p>将本地仓库推送到github</p>

<pre><code>git push -u origin master
</code></pre>

<p>这样就能通过 kevensya.github.io 来访问博客了，如果博客有更新，可以利用下面的命令再次push到github。</p>

<pre><code>hugo -t greyshade
git add -A
git commit -m &quot;Update public files&quot;
git push
</code></pre>

<h3 id="参考文档:a21e4d43a2a98a5640b183c3e7675c3a">参考文档</h3>

<blockquote>
<p>Hugo官方文档：<a href="http://gohugo.io/overview/introduction/">http://gohugo.io/overview/introduction/</a></p>

<p>Hugo静态网站生成器中文教程：<a href="http://nanshu.wang/post/2015-01-31/">http://nanshu.wang/post/2015-01-31/</a></p>
</blockquote>
</div></article>
					
						<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
	
	
	
	
	</div>
	
</div>

					
					
					


				    </div>
				</div>
			</div>
			<footer id="footer" class="inner">Copyright &copy; 2015

    kevenxia

Design credit: <a href="http://shashankmehta.in/archive/2012/greyshade.html">Shashank Mehta</a>
<script src="http://kevensya.github.io//js/slash.js"></script>
<script src="http://kevensya.github.io//js/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script></footer>
		</div>
	</div>
	
</body>
</html>
